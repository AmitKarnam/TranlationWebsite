<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Translation</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>

    <h1>English to Shakespeare English translation</h1>
    <hr>

    <div class="">
        <p class="textareaHeading">Enter English text in the below textbox : </p>
        <textarea id="englishText">
            
        </textarea>
    </div>
<br>
    <button id="Submitbtn"> Translate </button>

    <div>
        <p class="textareaHeading">Translated text : </p>
        <textarea id="convertedText">
        </textarea>
    </div>

</body>

<script>



function createUrl(text)
{
    var url = 'https://api.funtranslations.com/translate/shakespeare.json?' + "text=" + text
    return url
}


function errorHandler(error)
{
    console.log("error occured",error);
    alert("something went wrong, please try after sometime.");
}


function fetchJson()
{
    
    englishText = document.querySelector("#englishText");
    
    fetch(createUrl(englishText.value)).then(response => response.json()).then(json => {
       var translatedText = json.contents.translated;
       
        outputArea = document.querySelector("#convertedText");
        outputArea.innerHTML = translatedText;
    })
    .catch(errorHandler)

   
}

const btn = document.querySelector("#Submitbtn");

btn.addEventListener('click',function(event)
{
    console.log("Button clicked.");
    fetchJson();
});


</script>

</html>